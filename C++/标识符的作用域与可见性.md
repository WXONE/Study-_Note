# 标识符的作用域与可见性

作用域分类：

* 函数原型作用域
* 局部作用域（块作用域）
* 类作用域
* 文件作用域
* 命名空间作用域

## 函数原形作用域

范围最小的作用域，函数原形作用域就是函数的形参表的范围，也就是说它起始于函数形参表的左括号，终止于函数形参表的右括号。它只介意参数表中参数的类型以及它们的次序，并不介意参数名是什么。

## 局部作用域

* 函数的形参、在块中声明的标识符；
* 作用域自声明处起，限于块中。

![1552910438817](C:\Users\WXONE\AppData\Roaming\Typora\typora-user-images\1552910438817.png)

## 类作用域

* 类的成员具有类作用域，其范围包括类体和成员函数体。
* 在类作用域以外访问类的成员：
  * 静态成员：通过类名，或者该类的对项名、对象引用访问。
  * 非静态成员：通过类名，或者该类的对象名、对象引用、对象指针访问。

## 文件作用域

* 不在前述各个作用域中出现的声明，就具有文件作用域；
* 其作用域开始于声明点，结束语文件尾

文件作用域也称为静态作用域，在文件作用域中定义的各个标识符，它的作用域开始点是从它的定义点开始，在整个文件范围之内都是有效的。

如果在这个文件中有多个函数的话，那么在它们中间都可以访问这个文件作用域的。这样的标识符不在前述各个作用域中的标识符，它就存在于文件作用域中。文件作用域起始于声明点，结束于文件结束的地方。

## 可见性

* 可见性是从对标识符的引用的角度来谈的概念。
* 可见性表示从内层作用域向外层作用域“看”时能看见什么。
* 如果标识在某处可见，就可以在该处应用此标识符



* 如果某个标识符在外层中声明，且在内层中没有同意标识符的声明，则该标识符在内层可见。
* 对于两个嵌套的作用域，如果在内层作用域内声明了与外层作用域中同名的标识符，则外层作用域的标识符在内层不可见。

## 例：

```c++
#include 
using namespace std;
 
int i;	//全局变量，文件作用域
int main() { 
     i = 5; //为全局变量i赋值
     {
         int i; //局部变量，局部作用域
         i = 7;
         cout << "i = " << i << endl;//输出7
      }
      cout << “i = ” << i << endl;//输出5
      return 0;
}
```

